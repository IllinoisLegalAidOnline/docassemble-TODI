metadata:
  title: Transfer on Death Instrument
  short title: TODI
  comment:  This program helps you prepare a Transfer On Death Instrument for your property located in Illinois. 
  authors:
    - Vivian McNaughton
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALToolbox:phone-number-validation.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
objects:
  - users: ALPeopleList.using(object_type=ALIndividual, there_are_any=True)
  - todi_property: ALAddress
  - ownership_types: DAList.using(there_are_any=True)
  - beneficiaries: ALPeopleList.using(object_type=ALIndividual, complete_attribute=['complete'], there_are_any=True)
  - beneficiaries[i].successor_beneficiary: ALIndividual
  - joint_owner: ALIndividual
  - witnesses: ALPeopleList.using(there_are_any=True)
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
  - test_intl_address: ALAddress
---
code: |
  ilao_easy_form_title = "Transfer on Death Instrument"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/transfer-death-instrument-or-todi"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-TODI'
---
sections:
  - review_answers: Review your answers
---
sections:
  - section_intro: Start
  - section_user: About you
  - section_property: Property
  - section_beneficiaries: Beneficiaries
  - section_witnesses: Witnesses
  - section_download: Download
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  set_progress(5)
  todi_requirements
  how_to_use
  accept_terms
  if illinois_property == False:
    not_in_illinois
  nav.set_section('section_user')
  users[0].name.first
  users[0].address.address
  users[0].address.county_correct
  set_progress(20)
  if users[0].include_phone == True:
    users[0].phone_number
  if users[0].include_email == True:
    users[0].email
  if users[0].marital_status == "Married":
    married_note
  users[0].complete = True
  nav.set_section('section_property')
  if other_owners_check == "multiple":   
    if shared_owners_type == "Joint Tenancy" or shared_owners_type == "Tenancy by the entirety":
      if joint_todi_check == True:
        joint_todi_info
        joint_owner.name.first
        joint_owner.address.address
        joint_owner.address.county_correct
        if joint_owner.include_phone == True:
          joint_owner.phone_number
        if joint_owner.include_email == True:
          joint_owner.email
        co_owner_marital_check
        if joint_owner.marital_status == "Married" and shared_owners_type == "Joint Tenancy" and users[0].marital_status != "Married":
          joint_married_note
    elif shared_owners_type == "I do not know":
      unknown_kickout
    elif shared_owners_type == "Tenancy in common":
      common_explanation
      user_common_share
  todi_property.address
  todi_property.county_correct
  todi_property.pin
  set_progress(40)
  todi_property.description
  
  nav.set_section('section_beneficiaries')
  set_progress(60)
  beneficiaries.gather()
  set_progress(80)
  if beneficiaries.number_gathered() == 0:
    no_beneficiaries
  share_calculator
  nav.set_section('section_witnesses')
  #reconsider('beneficiary_count')
  if first_witness_known == True:
    witnesses[0].name.first
    if first_witness_address_known == True:
      witnesses[0].address.address 
    if second_witness_known == True:
      witnesses[1].name.first
      if second_witness_address_known == True:
        witnesses[1].address.address
  set_second_witness_unknown
  nav.set_section('section_download')
  if beneficiary_count  == 1:
    percent_default
  set_progress(100)
  #user_list_logic
  about_filing
  forms_assembling
  snapshot_forms
  get_docs_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}
    
  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass  
    
  stuff_to_snapshot['user_zip'] = showifdef('users[0].address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')
  
  stuff_to_snapshot['other_owners_check'] = showifdef('other_owners_check') 
  
  stuff_to_snapshot['beneficiary_count'] = showifdef('beneficiary_count') 
  
  stuff_to_snapshot['tenancy_type'] = showifdef('tenancy_type') 
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---
depends on:
  - other_owners_check
  - shared_owners_type
  - joint_todi_check
code: |
  if other_owners_check != "multiple":
    joint_language = False
  elif shared_owners_type != "Tenancy in common":
    if joint_todi_check == True:
      joint_language = True
    else:
      joint_language = False
  else:
    joint_language = False
    
  if joint_language == True:
    me_or_us = "us"
    i_or_we = "we"
    my_or_our = "our"
    owners_apostrophe = "owners'"
    death_or_deaths = "deaths"
    owner_or_owners = "owners"
    person_or_persons = "persons"
    name_is_or_names_are = "names are"
    TAX_WORD = "TAXPAYERS"
    after_both_death = "the death of both owners"
    after_one_death = "the second owner dies"
    i_and_other = "the other owner and I"
    either_owner = "either owner"
    multiple_must_sign = "Both owners must sign"
  else:
    me_or_us = "me"
    i_or_we = "I"
    my_or_our = "my"
    owners_apostrophe = "owner's"
    death_or_deaths = "death"
    owner_or_owners = "owner"
    person_or_persons = "person"
    name_is_or_names_are = "name is"
    TAX_WORD = "TAXPAYER"
    after_both_death = "your death"
    after_one_death = "your death"
    i_and_other = "I"
    either_owner = "you"
    multiple_must_sign = "Sign"
---
depends on:
  - joint_todi_check
  - shared_owners_type
  - other_owners_check
code: |
  #if other_owners_check == "multiple":   
    #if shared_owners_type == "Joint Tenancy" or shared_owners_type == "Tenancy by the entirety":
      #if joint_todi_check == True:
        #users.there_is_another = True
      #else:
        #users.there_is_another = False
    #else:
      #users.there_is_another = False
  #else:
    #users.there_is_another = False
  user_list_logic = True
---
#sets:
#  - test_intl_address.address
#id: testing non-us addresses
#question: |
#  Insert address
#fields:
#  - code: |
#      test_intl_address.address_fields(show_country=True)
#---
#id: show me
#continue button field: show_me_the_test
#question: |
#  Hey, it's ${test_intl_address.on_one_line(show_country=True)}
#subquestion: |
#  Oh okay.
---
id: welcome
question: |
  Transfer on Death Instrument
subquestion: |
  Welcome to Illinois Legal Aid Online's **Transfer on Death Instrument** Easy Form.

  This program helps you prepare a Transfer On Death Instrument (TODI) for your property located in Illinois. 
  
  A TODI lets you to transfer real estate to your loved ones without including it in your will. This means your loved ones can avoid having to go to court to divide up your property after your death. To learn more, read ILAO's article about [**common questions about Transfer on Death Instruments**](https://www.illinoislegalaid.org/legal-information/transfer-death-instrument-common-questions).
  
  The form you create can only be used in Illinois.
  
  ${collapse_template(multiple_owners_intro)}
field: sees_nav_bar
---
template: multiple_owners_intro
subject: |
  **What if my property has multiple owners?**
content: | 
  This program can make a joint TODI for a property with two owners: you and your joint owner. The property must be held in **{joint tenancy}** or **{tenancy by the entirety}**.
  
  It cannot make a joint TODI for a property with three or more owners, or for a property owned by **{tenants in common}**. If the property is owned by three or more people, you may file separate TODIs or [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
---
id: instructions
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  Set aside 10 to 20 minutes to finish this program. You can log in and save your work to return to later. 

  After you download your form, you will need to sign and date it in front of 2 witnesses and a notary public, record the TODI with your county's Recorder of Deeds, and give copies to your beneficiaries.
  
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some questions have a question mark in a circle ${ fa_icon("question-circle", color_css="#0DCAF0" ) } that helps explain things.
---
template: help_example

subject: |

  **You can click sections like this to show more information.**

content: |  

  This is an example of help. Click again to hide.
---
template: get_legal_help
subject: |
  **What if I need legal advice?**
content: |  
  If you have questions or concerns about your legal problem and want legal advice you should talk to a lawyer.
 
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: todi requirements
continue button field: todi_requirements
question: |
  Information about TODIs
subquestion: |
  A TODI can be used to transfer any type of real property. This means a house, a condo, a building, or a parcel of land.
  
  To complete this program, you will need to know: 

  * Your Property Index Number ("PIN"), which should be on your deed, your property tax bill, and other documents recorded against the property. You can obtain the PIN from your County Clerk's Office, Assessor's Office, and sometimes at your county's website. It is sometimes called a "parcel number" or a "permanent index number."

  * The legal description of the property. You can find this in the property deed or other documents recorded against the property. If you do not have these, you can find them at the office of County Recorder of Deeds or their website. For example, in St. Clair County, you would go to the Recorder of Deeds website and search for your deed using your PIN. You could then view an image of the deed which contains the legal description. 

  ${collapse_template(bonus_info)}

  To learn more, read ILAO's article about [**creating a Transfer on Death Instrument**](https://www.illinoislegalaid.org/legal-information/creating-transfer-death-instrument-todi).
---
template: bonus_info
subject: |
  **Taxes, property rights, and mortgages**
content: |
  During your lifetime, you will not need to pay additional taxes due to the TODI. You still need to pay local property taxes. However, the property will be subject to the estate tax after your death. If the value of your estate is high enough, your estate will have to pay an estate tax.
  
  You will still have all your property rights after making a TODI. You can do anything with the property that an owner has the right to do, including selling the property or using it as collateral on a loan. A beneficiary will not have any rights to the property until your death.

  You can file a TODI even if your property has a mortgage. It will not affect the mortgage during your lifetime. The mortgage would follow the property, so if there is still a mortgage in place after your death, your beneficiary will inherit the property subject to that mortgage. Your beneficiary will need to make arrangements with any lenders to continue paying the mortgage.
---
id: illinois property
question: |
  Is the property you want to include in the TODI located in Illinois? 
fields:
  - no label: illinois_property
    datatype: yesnoradio
---
id: not in illinois
event: not_in_illinois
question: |
  Sorry
subquestion: |
  You can only use this program for property located in Illinois.
buttons:
  - Exit: exit
  - Restart: restart
---
id: user name
question: |
  What is your name?
subquestion: |
    If you don't have a first name and a last name, you can enter your name in the field labeled **First** and leave the other fields blank.
fields:
  - First: users[0].name.first
  - Middle: users[0].name.middle
    required: False
  - Last: users[0].name.last
    required: False
  - Suffix: users[0].name.suffix
    help: |
      Some names have a suffix after the last name, such as "Senior," "III," or "Jr." If your name does not have a suffix, you can leave this blank.
    code: |
      name_suffix()
    required: False
---
id: user address
question: |
  What is your mailing address?
subquestion: |
  This does not have to be the address of the property you're transferring.
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list() 
  - ZIP code: users[0].address.zip
  - County: users[0].address.county
---
id: user phone check
question: |
  Do you want to include your phone number in the TODI?
fields:
  - no label: users[0].include_phone
    datatype: yesnoradio
---
id: user phone number
question: |
  What is your phone number?
fields:
  - Phone number: users[0].phone_number
    datatype: al_international_phone
---
id: user email check
question: |
  Do you want to include your email address in the TODI?
fields:
  - no label: users[0].include_email
    datatype: yesnoradio
---
id: user email address
question: |
  What is your email address?
fields: 
  - Email: users[0].email
    datatype: email
---
id: user marital status
question: |
  What is your marital status?
subquestion: |
  If you are married, your marriage may affect ownership of the property.
field: users[0].marital_status
choices:
  - Single
  - Married
  - Legally separated by a judge: Legally separated by a judge
    help: |
      A legal separation is a court-ordered arrangement for a married couple to live separately and separate their assets. If you live apart from your spouse but were not separated by a judge, you are still considered married.
  - Divorced
  - Widowed
---
id: married note
continue button field: married_note
question: |
  Note about property for married people
subquestion: |
  If your spouse outlives you they may be able to stop your TODI, even if you have been separated for a long time. If they stop the TODI, your spouse will receive a share of the property. 
  
  To learn more, read ILAO's articles about:
  
  * [**What happens when I die without a will?**](https://www.illinoislegalaid.org/legal-information/what-happens-when-i-die-without-will/)
  * [**Transfer on Death Instrument basics**](https://www.illinoislegalaid.org/legal-information/giving-someone-your-house-when-you-die)
  * [**A will as a legal document to explain my wishes after I die**](https://www.illinoislegalaid.org/legal-information/will-legal-document-explain-my-wishes-after-i-die)
---
id: joint married note
continue button field: joint_married_note
question: |
  Note about property for married people
subquestion: |
  If ${joint_owner.name_full()}'s spouse outlives them their spouse may be able to stop the TODI, even if they have been separated for a long time. If they stop the TODI, they will receive a share of the property.
  
  To learn more, read ILAO's articles about:
  
  * [**What happens when I die without a will?**](https://www.illinoislegalaid.org/legal-information/what-happens-when-i-die-without-will/)
  * [**Transfer on Death Instrument basics*](https://www.illinoislegalaid.org/legal-information/giving-someone-your-house-when-you-die)
  * [**A will as a legal document to explain my wishes after I die**](https://www.illinoislegalaid.org/legal-information/will-legal-document-explain-my-wishes-after-i-die)
---
id: property address
question: |
  What is the address of the property you want to include in the TODI?
fields:
  - Street address: todi_property.address
    address autocomplete: True
  - Address line 2: todi_property.unit
    required: False
  - City: todi_property.city
  - State: todi_property.state
    code: |
      states_list() 
  - ZIP code: todi_property.zip
  - County: todi_property.county
---
id: property pin
question: |
  What is the Property Index Number ("PIN") for this property? 
subquestion: |
  You can find your PIN--sometimes called a "parcel number" or a "permanent index number"--at your County Clerk's Office or Assessor's Office, and sometimes at your county's website. If your property is in one of the counties below, click their website to look up your PIN: 

  * [**Cook County**](http://www.cookcountypropertyinfo.com/)
  * [**DuPage County**](http://www.dupageco.org/PropertyInfo/PropertyLookup.aspx)
  * [**Kane County**](https://lrs.kanecountyrecorder.net/)
  * [**Lake County**](http://www.lakecountyil.gov/154/Chief-County-Assessment-Office)
  * [**McHenry County**](http://www.mchenrycountygis.org/Athena)
  * [**Will County**](https://www.willcountysoa.com/section/Property-Search-Portal)
  
  If your property is in a different county, search online to find your county's Recorder of Deeds website and see if you can look up your PIN for free online.
  
  The format of a PIN is 12-12-123-123-1234.
  
  ${collapse_template(multiple_pins)}
fields:
  - PIN: todi_property.pin
    maxlength: 40
---
template: multiple_pins
subject: |
  **What if my property has multiple PINs?** 
content: |
  If a property has two PINs but only one legal description, you may want to list both PINs in your answer. If the property has multiple PINs and multiple legal descriptions, you may need to make separate TODIs.
  
  When making a TODI, you should refer to the property the same way your deed refers to the property. If you do not know how you should refer to the property, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
---
id: property description
question: |
  What is the legal description of the property?
subquestion: |
  You can find the legal description on the deed or other property documents. These can be found at the office of the Recorder of Deeds in the county where the property is located. For example, in Cook County, you would go to the Recorder of Deeds website and search for your deed using your PIN. You could then view an image of the deed which contains the legal description. 

  Note: Be careful in writing the property description. You should copy the legal description exactly. You may wish to compare the deed to other documents (such as a mortgage) to see if the descriptions are the same. If your property is in one of the counties listed below, click their website to look up the legal description.

  * [**Cook County**](http://cookrecorder.com/)
  * [**DuPage County**](https://www.dupagecounty.gov/elected_officials/recorder/)
  * [**Kane County**](https://lrs.kanecountyrecorder.net/)
  * [**Lake County**](https://www.lakecountyil.gov/258/Recorder-of-Deeds)
  * [**McHenry County**](https://www.mchenrycountyil.gov/departments/county-recorder/public-records-search-options)
  * [**Will County**](https://www.willcountysoa.com/section/Property-Search-Portal)

  If your property is in a different county, search online to find your county's Recorder of Deeds website and see if you can look up the legal description for free online.
fields:
  - Legal description: todi_property.description
    input type: area
    rows: 20
    maxlength: 5000
    label above field: True
---
id: other owners check
question: |
  Do you own this property by yourself, or do you own it with someone else?
subquestion: |
  ${collapse_template(deceased_owners)}
field: other_owners_check
choices:
  - I am the only owner.: sole
  - I share ownership of this property with someone else.: multiple
---
template: deceased_owners
subject: |
  **About deceased co-owners** 
content: |
  If you owned the property with someone who has passed away, you may need to update the title to the property before you make a TODI.

  Depending on how you and the deceased co-owned the property, their share of the property may have gone to you or to their heirs. If you are not sure what happened to their share, you may want to [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
---
sets:
  - ownership_types[i]
depends on:
  - users[0].marital_status
code: |
  if users[0].marital_status == "Married":
    ownership_types = [
      {"Tenancy in common": "Tenancy in common",
        "help": "**Tenants in common** may have equal or unequal shares. For example, one owner could own an 80% share of the property and another owner could own a 20% share of the property. These percentages must add up to 100%. Tenant-in-common owners do not have the right of survivorship. If a tenant in common passes away, their share of the property goes to their estate instead of the remaining tenants in common. If you use this program as a tenant in common, your beneficiaries will only inherit your share of the property."},
      {"Joint Tenancy": "Joint tenancy",
        "help": "**Joint tenant** owners all own an equal share of the property. For example, if there are three joint tenant owners, each owner owns 1/3rd of the property. Joint tenant owners also have what the law calls a 'right of survivorship.' This means that when a joint tenant owner passes away, their share of the property goes to the other joint tenant owners."},
      {"Tenancy by the entirety": "Tenancy by the entirety",
        "help": "A **tenancy by the entirety** can only exist when a property is owned by a married couple. It is similar to a joint tenancy. If one spouse passes away, the other spouse gets their share of the property. The property's deed must explicitly state the couple owns the property as tenants by the entirety."},
      {"I do not know": "I do not know."}]   
  else:
    ownership_types = [
      {"Tenancy in common": "Tenancy in common",
        "help": "**Tenants in common** may have equal or unequal shares. For example, one owner could own an 80% share of the property and another owner could own a 20% share of the property. These percentages must add up to 100%. Tenant-in-common owners do not have the right of survivorship. If a tenant in common passes away, their share of the property goes to their estate instead of the remaining tenants in common. If you use this program as a tenant in common, your beneficiaries will only inherit your share of the property."},
      {"Joint Tenancy": "Joint tenancy",
        "help": "**Joint tenant** owners all own an equal share of the property. For example, if there are three joint tenant owners, each owner owns 1/3rd of the property. Joint tenant owners also have what the law calls a 'right of survivorship.' This means that when a joint tenant owner passes away, their share of the property goes to the other joint tenant owners."},
      {"I do not know": "I do not know."}]   
---
id: shared owners type
question: |
  What type of ownership do you have?
subquestion: |
  There are a few different ways multiple people can own a property. Your deed or conveyance document may have this informaton.
field: shared_owners_type
choices:
  code: |
    ownership_types
---
id: tenant in common explanation
continue button field: common_explanation
question: |
  Tenancy in common
subquestion: |
  As you are a **tenant in common**, you and the other owners could make a TODI together. However, this program does not make a shared TODI for **tenants in common**. If you would like to make a TODI with your co-owners, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
  
  If you continue using this program, your TODI will transfer your share of the property and only your share of the property to your beneficiaries.
---
id: user commmon share
question: |
  What pecentage of the property do you own?
subquestion: |
  As a tenant in common, you own a specific percent share of the property.
fields:
  - Your percent share: user_common_share
    datatype: number
    min: 0.01
    max: 99.99
---
id: joint todi check
question: |
  % if shared_owners_type == "Joint Tenancy":
  Are you making this TODI on your own or with another owner?
  % elif shared_owners_type == "Tenancy by the entirety":
  Are you making this TODI on your own or with your spouse?
  % else:
  Error: This question should not appear with shared_owners_type set to ${shared_owners_type}.
  % endif
subquestion: |
  % if shared_owners_type == "Joint Tenancy":
  As you are a **joint tenant** owner, you and the other owners can file a TODI together.
  
  If you and the other owners file a TODI together, the last surviving owner could decide to revoke the TODI.
  
  If you file a TODI on your own and you are not the last owner to pass away your TODI will not take effect.
  
  This program can make a joint TODI for a property with two owners: you and your joint owner. It cannot make a joint TODI for a property with three or more owners. If the property is owned by three or more people, you may file separate TODIs or [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
  % elif shared_owners_type == "Tenancy by the entirety":
  As you and your spouse are **tenants in the entirety**, you could file a TODI together if you both agree who should get the home after you both pass away.
  
  If you and your spouse file a TODI together and your spouse outlives you, they could decide to revoke the TODI.
  
  If you and your spouse do not agree about who would get the home after you both pass away, you can each file your own TODIs. Only the TODI of the owner who passes away last would take effect.
  
  If you have more questions or concerns, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
  % endif
field: joint_todi_check
choices:
  - We are making a TODI together. I understand that the last surviving owner could revoke the TODI.: True
  - I am making a TODI alone. I understand that if I am not the last owner to pass away, the TODI will not take effect.: False
---
id: joint todi info
continue button field: joint_todi_info
question: |
  Making a TODI together
subquestion: |
  % if shared_owners_type == "Tenancy by the entirety":
  If you and your spouse make a TODI together, you must agree on the answers to all of the questions in this interview. If you do not agree, do not make a shared TODI.
  
  A TODI does not bind a joint owner. If one of the two of you passes away, the other can revoke the TODI or sell the property while they are still alive. This is because the last living joint tenant owner of a property owns that property in full.
  
  You will both need to sign the TODI in the presence of witnesses.
  
  If you have questions or concerns, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
  % elif shared_owners_type == "Joint Tenancy":
  If you and the other owner make a TODI together, you must agree on the answers to all of the questions in this interview. If you do not agree, do not make a shared TODI.
  
  A TODI does not bind a joint owner. If one of the two of you passes away, the other can revoke the TODI or sell the property while they are still alive. This is because the last living joint tenant owner of a property owns that property in full.
  
  You will both need to sign the TODI in the presence of witnesses.
  
  If you have questions or concerns, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help").
  % else:
  Logic error. There is likely an issue with either the shared_owners_type variable or this question block.
  % endif
---
#No longer called. Delete after completing joint TODI functionality.
id: tenant entirety explanation
continue button field: entirety_explanation
question: |
  Tenancy in the entirety
subquestion: |
  As you and your spouse are **tenants in the entirety**, you could file a TODI together if you both agree who should get the home after you both pass away. However, this program can only make a TODI for a single owner.

  If you and your spouse do not agree about who would get the home after you both pass away, you can each file your own TODIs. Only the TODI of the owner who passes away last would take effect.
---
id: unknown kickout
event: unknown_kickout
question: |
  Sorry
subquestion: |
  You should not use this program if you do not know what type of shared ownership you have. Your deed or conveyance document may have this information. If your deed does not say, **tenancy in common** is the default. However, you may want to [**Get Legal Help**]("https://www.illinoislegalaid.org/get-legal-help") 
buttons:
  - Exit: exit
  - Restart: restart
---
id: joint owner name
question: |
  % if shared_owners_type == "Tenancy by the entirety":
  What is your spouse's name?
  % else:
  What is the other owner's name?
  % endif
subquestion: |
  If they don't have a first name and a last name, you can enter their name in the field labeled **First** and leave the other fields blank.
fields:
  - First: joint_owner.name.first
  - Middle: joint_owner.name.middle
    required: False
  - Last: joint_owner.name.last
    required: False
  - Suffix: joint_owner.name.suffix
    help: |
      Some names have a suffix after the last name, such as "Senior," "III," or "Jr." If your name does not have a suffix, you can leave this blank.
    code: |
      name_suffix()
    required: False
---
id: joint owner address
question: |
  What is ${joint_owner.name_full()}'s mailing address?
fields:
  - Street address: joint_owner.address.address
    address autocomplete: True
  - Address line 2: joint_owner.address.unit
    required: False
  - City: joint_owner.address.city
  - State: joint_owner.address.state
    code: |
      states_list() 
  - ZIP code: joint_owner.address.zip
  - County: joint_owner.address.county
---
id: joint owner phone check
question: |
  Do you want to include ${joint_owner.name_full()}'s phone number in the TODI?
fields:
  - no label: joint_owner.include_phone
    datatype: yesnoradio
---
id: joint owner phone number
question: |
  What is ${joint_owner.name_full()}'s phone number?
fields:
  - Phone number: joint_owner.phone_number
    datatype: al_international_phone
---
id: joint owner email check
question: |
  Do you want to include ${joint_owner.name_full()}'s email address in the TODI?
fields:
  - no label: joint_owner.include_email
    datatype: yesnoradio
---
id: joint owner email address
question: |
  What is ${joint_owner.name_full()}'s email address?
fields: 
  - Email: joint_owner.email
    datatype: email
---
depends on:
  - shared_owners_type
code: |
  if shared_owners_type == "Tenancy by the entirety":
    joint_owner.marital_status = "Married"
  else:
    joint_owner.marital_status = joint_owner.marital_status_ask
  co_owner_marital_check = True
---
depends on:
  - shared_owners_type
id: joint owner marital status
question: |
  What is ${joint_owner.name_full()}'s marital status?
subquestion: |
  If they are married, their marriage may affect ownership of the property.
field: joint_owner.marital_status_ask
choices:
  - Single
  - Married
  - Legally separated by a judge: Legally separated by a judge
    help: |
      A legal separation is a court-ordered arrangement for a married couple to live separately and separate their assets. If ${joint_owner.name_full()} lives apart from their spouse but were not separated by a judge, they are still considered married.
  - Divorced
  - Widowed
---
id: no beneficiaries
event: no_beneficiaries
question: |
  No beneficiaries listed
subquestion: |
  You cannot complete this program without listing at least one beneficiary.
  
  Please click **Back** below or **Beneficiaries** on the left to add beneficiaries.
  
buttons:
  - Exit: exit
  - Restart: restart
---
id: any other beneficiaries
question: |
  Do you have any other beneficiaries to tell us about?
subquestion: |
  So far you have told us about ${beneficiaries.full_names()}.
fields:
  - "Anyone else?": beneficiaries.there_is_another
    datatype: yesnoradio
---
code: |
  beneficiaries[i].name.first
  beneficiaries[i].in_america
  if beneficiaries[i].benefits == True:
    benefits_explainer
  if joint_language == True:
    if beneficiaries[i].related_to_who == "me" or beneficiaries[i].related_to_who == "both":
      beneficiaries[i].relationship
    if beneficiaries[i].related_to_who == "joint owner" or beneficiaries[i].related_to_who == "both":
      beneficiaries[i].joint_relationship
  else:
    beneficiaries[i].relationship
  if beneficiaries[i].has_successor == True:
    beneficiaries[i].successor_beneficiary.name.first
    beneficiaries[i].successor_beneficiary.address.city
    if joint_language == True:
      if beneficiaries[i].successor_beneficiary.related_to_who == "me" or beneficiaries[i].successor_beneficiary.related_to_who == "both":
        beneficiaries[i].successor_beneficiary.relationship
      if beneficiaries[i].successor_beneficiary.related_to_who == "joint owner" or beneficiaries[i].successor_beneficiary.related_to_who == "both":
        beneficiaries[i].successor_beneficiary.joint_relationship
    else:
      beneficiaries[i].successor_beneficiary.relationship
    beneficiaries[i].successor_beneficiary.relationship_info
  elif joint_language == False:
    if beneficiaries[i].relationship == "Child":
      beneficiaries[i].child_notice
  else:
    if beneficiaries[i].related_to_who == "me":
      if beneficiaries[i].relationship == "Child":
        beneficiaries[i].child_notice
    elif beneficiaries[i].related_to_who == "joint owner":
      if beneficiaries[i].joint_relationship == "Child":
        beneficiaries[i].child_notice
    elif beneficiaries[i].related_to_who == "both":
      if beneficiaries[i].relationship == "Child" or beneficiaries[i].joint_relationship == "Child":
        beneficiaries[i].child_notice  
  beneficiaries[i].relationship_info
  #beneficiaries[i].successor_beneficiary.show_successor_relationship
  beneficiaries[i].logic_for_successor_button
  beneficiaries[i].complete = True 
---
sets:
  - beneficiaries[i].name.first
id: names of beneficiaries
question: |
  What is the ${ordinal(i)} beneficiary's name?
subquestion: |
  % if i == 0:
  % if joint_language == False:
  A beneficiary is the person you want to get your property or a share of your property after you pass away.
  % else:
  A beneficiary is the person you want to get your property or a share of your property after you and ${joint_owner.name_full()} pass away.
  % endif
  % endif
  ${collapse_template(living_trust_info)}

  If they don't have a first name and a last name, you can enter their name in the field labeled **First** and leave the other fields blank.
fields:
  - First: beneficiaries[i].name.first
  - Middle: beneficiaries[i].name.middle
    required: False
  - Last: beneficiaries[i].name.last
    required: False
  - Suffix: beneficiaries[i].name.suffix
    code: |
      name_suffix()
    required: False  
---
template: living_trust_info
subject: |
  **What if I want a living trust to be my beneficiary?** 
content: |
  This program only makes TODIs that have individual people as beneficiaries. If you want to name a living trust as a beneficiary, you should talk to a lawyer.
  
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: beneficiary address
sets:
  - beneficiaries[i].address.address
question: |
  Enter ${beneficiaries[i].name_full()}'s address
#subquestion: |
#  ${collapse_template(intl_info)}
fields:
  - Does ${beneficiaries[i].name_full()} have a United States address?: beneficiaries[i].in_america
    datatype: yesnoradio
    default: True
    help: |
      Click **No** if you want to list an address outside the United States. You should enter the international address using the English alphabet.
  - Street address: beneficiaries[i].address.address
    address autocomplete: True
    show if: beneficiaries[i].in_america
  - Address line 2: beneficiaries[i].address.unit
    required: False
    show if: beneficiaries[i].in_america
  - City: beneficiaries[i].address.city
    show if: beneficiaries[i].in_america
  - State: beneficiaries[i].address.state
    code: |
      states_list() 
    show if: beneficiaries[i].in_america
  - ZIP code: beneficiaries[i].address.zip  
    show if: beneficiaries[i].in_america
  - Non-US address line 1 (street address, apartment number): beneficiaries[i].intl_address_1
    show if: 
      variable: beneficiaries[i].in_america
      is: False
  - Non-US address line 2 (city, province or state, postal code, country): beneficiaries[i].intl_address_2
    show if: 
      variable: beneficiaries[i].in_america
      is: False
---
template: intl_info
subject: |
  **What if ${beneficiaries[i].name_full()} does not have a United States address?** 
content: |
  You can list an international address for ${beneficiaries[i].name_full()}. For international addresses, there will be space for two lines to enter the address. You should enter the international address using the English alphabet.
---
id: beneficiary related to who
question: |
  Is ${beneficiaries[i].name_full()} related to you, ${joint_owner.name_full()}, or both?
subquestion: |
  ${beneficiaries[i].name_full()} does not have to be a family member. Their relationship to you or ${joint_owner.name_full()} could be "friend."
fields:
  - no label: beneficiaries[i].related_to_who
    input type: radio
    choices:
    - They are related to me.: me
    - They are related to ${joint_owner.name_full()}.: joint owner
    - They are related to both of us.: both
---
id: successor related to who
question: |
  Is ${beneficiaries[i].successor_beneficiary.name_full()} related to you, ${joint_owner.name_full()}, or both?
subquestion: |
  ${beneficiaries[i].successor_beneficiary.name_full()} does not have to be a family member. Their relationship to you or ${joint_owner.name_full()} could be "friend."
fields:
  - no label: beneficiaries[i].successor_beneficiary.related_to_who
    input type: radio
    choices:
    - They are related to me.: me
    - They are related to ${joint_owner.name_full()}.: joint owner
    - They are related to both of us.: both
---
id: beneficiary relationship
sets:
  - beneficiaries[i].relationship
question: |
  What is ${beneficiaries[i].name_full()}'s relationship to you?
fields: 
  - Relationship: beneficiaries[i].relationship_radio
    input type: radio
    choices:
    - Parent
    - Child
    - Grandchild
    - Sibling
    - Cousin
    - Other
  - Other: beneficiaries[i].relationship
    show if: 
      variable: beneficiaries[i].relationship_radio
      is: "Other"     
---
sets:
  beneficiaries[i].relationship
depends on:
  - beneficiaries[i].relationship_radio
code: |
  if beneficiaries[i].relationship_radio != "Other":
    beneficiaries[i].relationship = beneficiaries[i].relationship_radio 
---
id: beneficiary joint owner relationship
sets:
  - beneficiaries[i].joint_relationship
question: |
  What is ${beneficiaries[i].name_full()}'s relationship to ${joint_owner.name_full()}?
fields: 
  - Relationship: beneficiaries[i].joint_relationship_radio
    input type: radio
    choices:
    - Parent
    - Child
    - Grandchild
    - Sibling
    - Cousin
    - Other
  - Other: beneficiaries[i].joint_relationship
    show if: 
      variable: beneficiaries[i].joint_relationship_radio
      is: "Other"     
---
sets:
  beneficiaries[i].joint_relationship
depends on:
  - beneficiaries[i].joint_relationship_radio
code: |
  if beneficiaries[i].joint_relationship_radio != "Other":
    beneficiaries[i].joint_relationship = beneficiaries[i].joint_relationship_radio 
---
depends on:
  - joint_language
  - beneficiaries[i].relationship
  - beneficiaries[i].related_to_who
  - beneficiaries[i].joint_relationship
  - users[0].name
  - joint_owner.name
code: |
  if joint_language == False:
    beneficiaries[i].relationship_info = beneficiaries[i].relationship
  else:
    if beneficiaries[i].related_to_who == "me":
      beneficiaries[i].relationship_info = beneficiaries[i].relationship + " of " + users[0].name_full()
    elif beneficiaries[i].related_to_who == "joint owner":
      beneficiaries[i].relationship_info = beneficiaries[i].joint_relationship + " of " + joint_owner.name_full()
    elif beneficiaries[i].related_to_who == "both":
      if beneficiaries[i].relationship == beneficiaries[i].joint_relationship:
        beneficiaries[i].relationship_info = beneficiaries[i].relationship + " of " + users[0].name_full() + " and " + joint_owner.name_full()
      else:
        beneficiaries[i].relationship_info = beneficiaries[i].relationship + " of " + users[0].name_full() + " and " + beneficiaries[i].joint_relationship + " of " + joint_owner.name_full()
---
depends on:
  - joint_language
  - beneficiaries[i].successor_beneficiary.relationship
  - beneficiaries[i].successor_beneficiary.related_to_who
  - beneficiaries[i].successor_beneficiary.joint_relationship
  - users[0].name
  - joint_owner.name
code: |
  if joint_language == False:
    beneficiaries[i].successor_beneficiary.relationship_info = beneficiaries[i].successor_beneficiary.relationship
  else:
    if beneficiaries[i].successor_beneficiary.related_to_who == "me":
      beneficiaries[i].successor_beneficiary.relationship_info = beneficiaries[i].successor_beneficiary.relationship + " of " + users[0].name_full()
    elif beneficiaries[i].successor_beneficiary.related_to_who == "joint owner":
      beneficiaries[i].successor_beneficiary.relationship_info = beneficiaries[i].successor_beneficiary.joint_relationship + " of " + joint_owner.name_full()
    elif beneficiaries[i].successor_beneficiary.related_to_who == "both":
      if beneficiaries[i].successor_beneficiary.relationship == beneficiaries[i].successor_beneficiary.joint_relationship:
        beneficiaries[i].successor_beneficiary.relationship_info = beneficiaries[i].successor_beneficiary.relationship + " of " + users[0].name_full() + " and " + joint_owner.name_full()
      else:
        beneficiaries[i].successor_beneficiary.relationship_info = beneficiaries[i].successor_beneficiary.relationship + " of " + users[0].name_full() + " and " + beneficiaries[i].successor_beneficiary.joint_relationship + " of " + joint_owner.name_full()
---
id: beneficiary benefits
question: |
  Does ${beneficiaries[i].name_full()} receive any public benefits?
subquestion: |
  Public benefits include SNAP (food stamps), Social Security Disability Insurance (SSDI), or Supplemental Security Income (SSI).
fields:
  - no label: beneficiaries[i].benefits
    datatype: yesnoradio  
---
id: benefits explainer
continue button field: benefits_explainer
question: |
  Note about public benefits
subquestion: |
  Some public benefits programs have asset limitations. 
  
  In other words, it is possible that receiving an ownership interest in a home could disqualify someone from the public benefit they receive.
  
  You may wish to speak to ${beneficiaries[i].name_full()} or a lawyer about this before moving forward.
---
sets:
  - beneficiaries[i].has_successor
id: successor beneficiary check
question: |
  Would you like to name a successor beneficiary for ${beneficiaries[i].name_full()}?
subquestion: |
  % if joint_language == False:
  A successor beneficiary is a loved one who will inherit the property if ${beneficiaries[i].name_full()} passes away before you do. They are also called a "secondary beneficiary."
  
  % if beneficiaries[i].relationship_radio == "Child":
  **Note:** If you do not name a successor beneficiary and your child passes away before you do, your child's share in your home will go to any surviving children of your child.
  % endif
  % else:
  A successor beneficiary is a loved one who will inherit the property if ${beneficiaries[i].name_full()} passes away before you and ${joint_owner.name_full()} do. They are also called a "secondary beneficiary."
  % endif
  
  ${collapse_template(multiple_successor_note)}
fields:
  - no label: beneficiaries[i].has_successor
    datatype: yesnoradio 
---
template: multiple_successor_note
subject: |
  **What if I want to list multiple successors for ${beneficiaries[i].name_full()}?**
content: | 
  Listing more than one successor for a single beneficiary can raise complicated issues. This program can only list one successor for each beneficiary. If you want to make a TODI that names multiple successors for a single beneficiary, you should talk to a lawyer.
  
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: child notice
continue button field: beneficiaries[i].child_notice
question: |
  Note about child beneficiaries
subquestion: |
  % if joint_language == False:
  If you do not name a successor beneficiary and ${beneficiaries[i].name_full()} passes away before you do, their share of your home will go to their heirs.
  % else:
  If you do not name a successor beneficiary and ${beneficiaries[i].name_full()} passes away before you or ${joint_owner.name_full()} do, their share in your home will go to their heirs.
  % endif
---
id: probate warning
continue button field: probate_warning
question: |
  Note about probate
subquestion: |
  If you do not name a successor beneficiary and ${beneficiaries[0].name_full()} passes away before you, your home would go through your estate. This would require your heirs to go through probate court. 
---
sets:
  - first_pass
  - running_total
code: |
  first_pass = True
  running_total = 0
---
sets:
  - beneficiaries[i].successor_beneficiary.name.first
id: names of beneficiaries
question: |
  What is the name of the successor beneficiary for ${beneficiaries[i].name_full()}?
subquestion: |
  If they don't have a first name and a last name, you can enter their name in the field labeled **First** and leave the other fields blank.
fields:
  - First: beneficiaries[i].successor_beneficiary.name.first
  - Middle: beneficiaries[i].successor_beneficiary.name.middle
    required: False
  - Last: beneficiaries[i].successor_beneficiary.name.last
    required: False
  - Suffix: beneficiaries[i].successor_beneficiary.name.suffix
    code: |
      name_suffix()
    required: False  
---
id: successor location
question: |
  Enter ${beneficiaries[i].successor_beneficiary.name_full()}'s location
fields:
  - Does ${beneficiaries[i].successor_beneficiary.name_full()} live in the United States?: beneficiaries[i].successor_beneficiary.in_america
    datatype: yesnoradio
    default: True
  - City: beneficiaries[i].successor_beneficiary.address.city
  - State: beneficiaries[i].successor_beneficiary.address.state
    code: |
      states_list() 
    show if: beneficiaries[i].successor_beneficiary.in_america
  - Country: beneficiaries[i].successor_beneficiary.country
    show if:
      variable: beneficiaries[i].successor_beneficiary.in_america
      is: False
---
id: successor joint relationship
question: |
  What is ${beneficiaries[i].successor_beneficiary.name_full()}'s relationship to ${joint_owner.name_full()}?
fields: 
  - Relationship: beneficiaries[i].successor_beneficiary.joint_relationship_radio
    input type: radio
    choices:
    - Parent
    - Child
    - Grandchild
    - Sibling
    - Cousin
    - Other
  - Other: beneficiaries[i].successor_beneficiary.joint_relationship
    show if: 
      variable: beneficiaries[i].successor_beneficiary.joint_relationship_radio
      is: "Other"
---
sets:
  beneficiaries[i].successor_beneficiary.joint_relationship
depends on:
  - beneficiaries[i].successor_beneficiary.joint_relationship_radio
code: |
  if beneficiaries[i].successor_beneficiary.joint_relationship_radio != "Other":
    beneficiaries[i].successor_beneficiary.joint_relationship = beneficiaries[i].successor_beneficiary.joint_relationship_radio 
---
id: successor relationship
question: |
  What is ${beneficiaries[i].successor_beneficiary.name_full()}'s relationship to you?
fields: 
  - Relationship: beneficiaries[i].successor_beneficiary.relationship_radio
    input type: radio
    choices:
    - Parent
    - Child
    - Grandchild
    - Sibling
    - Cousin
    - Other
  - Other: beneficiaries[i].successor_beneficiary.relationship
    show if: 
      variable: beneficiaries[i].successor_beneficiary.relationship_radio
      is: "Other"
---
sets:
  beneficiaries[i].successor_beneficiary.relationship
depends on:
  - beneficiaries[i].successor_beneficiary.relationship_radio
code: |
  if beneficiaries[i].successor_beneficiary.relationship_radio != "Other":
    beneficiaries[i].successor_beneficiary.relationship = beneficiaries[i].successor_beneficiary.relationship_radio 
---
code: |
  tenancy_type = "Joint tenants"
  error_switch = True
---
sets:
  - tenancy_type
id: tenancy type
question: |
  Would you like your beneficiaries to be **joint tenants** or **tenants in common**?
field: tenancy_type
choices:
  - Joint tenants: Joint tenants
    help: |
      **Joint tenant** owners all own an equal share of the property. For example, if there are three joint tenant owners, each owner owns 1/3rd of the property. Joint tenant owners also have what the law calls a "right of survivorship." This means that when a joint tenant owner passes away, their share of the property goes to the other joint tenant owners.  
  - Tenants in common: Tenants in common
    help: |
      **Tenants in common** may have equal or unequal shares. For example, one owner could own an 80% share of the property and another owner could own a 20% share of the property. These percentages must add up to 100%. Tenant-in-common owners do not have the right of survivorship. If a tenant in common passes away, their share of the property goes to their estate instead of the remaining tenants in common.
---
id: tenancy alt intro
continue button field: alt_tenancy_intro
question: |
  Tenants in common requirement
subquestion: |
  Because you own your share of the property as a tenant in common, your beneficiaries must inherit as tenants in common.
  
  Tenants in common may have **equal or unequal shares**. For example, one owner could own an 80% share of the property and another owner could own a 20% share of the property. These percentages must add up to 100%. Tenant-in-common owners do not have the right of survivorship. If a tenant in common passes away, **their share of the property goes to their estate instead of to the remaining tenants in common**.
---
depends on:
  - beneficiary_count
code: |
  if beneficiary_count != 3:
    if beneficiary_count == 0:
      equal_share_reference = 100
    else:
      equal_share_reference = 100 / beneficiaries.number_gathered()
  else:
    equal_share_reference = 33.33
---
code: |
  beneficiary_count = beneficiaries.number_gathered()
---
reset:
  - beneficiary_count 
  - equal_share_reference
  - error_switch
  - share_calculator
  - nested_share_code
---
depends on:
  - equal_share_reference
  #- tenancy_type
  - even_split
  - beneficiary_count
code: |
  if beneficiary_count  != 1:
    equal_share_reference
    if other_owners_check == "multiple" and shared_owners_type == "Tenancy in common":
      alt_tenancy_intro
      tenancy_type = "Tenants in common"
    if tenancy_type == "Tenants in common":
      even_split
    nested_share_code
  else:
    if joint_language == False:
      if beneficiaries[0].relationship != "Child":
        if beneficiaries[0].has_successor == False:
          probate_warning
  share_calculator = True
---
depends on:
  - equal_share_reference
  - tenancy_type
  - even_split
  - beneficiary_count
code: |
  if tenancy_type == "Joint tenants" or even_split == True:
    for person in beneficiaries:
      person.percent_share = equal_share_reference
  else:
    running_total = 0
    share_reset
    for person in beneficiaries:
      person.percent_share
      running_total = running_total + person.percent_share
    if running_total != 100 and tenancy_type == "Tenants in common":
      if other_owners_check == "multiple" and shared_owners_type == "Tenancy in common":
        percent_kickout
      else:
        percent_error
        error_switch
  nested_share_code = True
---
depends on:
  - equal_share_reference
  - tenancy_type
  - even_split
  - beneficiary_count
code: |
  for person in beneficiaries:
    undefine('person.percent_share')
  share_reset = True
---
depends on:
  - tenancy_type
  - beneficiary_count
id: even split
question: |
  How do you want to split the property between your beneficiaries?
field: even_split
choices:
  - "An equal amount (${thousands((100 / beneficiaries.number_gathered()), show_decimals = True)}%) for each person" : True
  - "Different amounts for each person" : False  
#fields:
  #- no label: even_split
    #datatype: yesnoradio
---
sets:
  - beneficiaries[i].percent_share
depends on:
  - tenancy_type
  - even_split
  - beneficiary_count
id: beneficiary share
question: |
  What is ${beneficiaries[i].name_full()}'s percent share of the property?
subquestion: |
  % if i > 0:
  
  % for person in beneficiaries:
  % if beneficiaries.index(person) < i:
  * ${person.name_full()}'s share is ${person.percent_share}%.  
  % else:
  * ${person.name_full()}'s share is 0%.
  % endif
  % endfor
  % endif
  
  The total percentage you have listed so far is ${running_total}%.
fields:
  - ${beneficiaries[i].name_full()}'s percent share: beneficiaries[i].percent_share
    datatype: number
    min: 0.01
    max: 99.99
---
depends on:
  - beneficiary_count 
code: |
  if beneficiary_count  == 1:
    beneficiaries[0].percent_share = 100
  else:
    undefine(beneficiaries[0].percent_share)  
  percent_default = True
---
id: running total calculate
event: running_total_calculate
question: |
  Filler text
---
terms:
  joint tenants: |
    **Joint tenant** owners all own an equal share of the property. For example, if there are three joint tenant owners, each owner owns 1/3rd of the property. Joint tenant owners also have what the law calls a right of survivorship. This means that when a joint tenant owner passes away, their share of the property goes to the other joint tenant owners.
  tenants in common: |
    **Tenants in common** may have equal or unequal shares. For example, one owner could own an 80% share of the property and another owner could own a 20% share of the property. These percentages must add up to 100%. Tenant-in-common owners do not have the right of survivorship. If a tenant in common passes away, their share of the property goes to their estate instead of the remaining tenants in common.
  joint tenancy: |
    **Joint tenant** owners all own an equal share of the property. For example, if there are three joint tenant owners, each owner owns 1/3rd of the property. Joint tenant owners also have what the law calls a 'right of survivorship.' This means that when a joint tenant owner passes away, their share of the property goes to the other joint tenant owners.
  tenancy by the entirety: |
    A **tenancy by the entirety** can only exist when a property is owned by a married couple. It is similar to a joint tenancy. If one spouse passes away, the other spouse gets their share of the property. The property's deed must explicitly state the couple owns the property as tenants by the entirety.
---
id: percent error
continue button field: percent_error
question: |
  Shares do not add up to 100%
subquestion: |

  % for person in beneficiaries:
  * ${person.name_full()}'s share is ${person.percent_share}%.
  % endfor
  
  The percentages you listed for each beneficiary add up to ${running_total}%. They should add up to 100%. 
  
  If you click **Next**, this program will consider your beneficiaries **{joint tenants}** instead of **{tenants in common}**.
  
  If you would like to edit the percentages, click **Back** to go back or click **Beneficiaries** to edit your answers.
---
#This kickout exists for when there is a percentage is but the ownership cannot be converted to a joint tenancy.
id: percent kickout
event: percent_kickout
question: |
  Shares do not add up to 100%
subquestion: |
  The percentages you listed for each beneficiary add up to ${running_total}%. They should add up to 100%.
  
  If you would like to edit the percentages, click **Back**.
buttons:
  - Exit: exit
  - Restart: restart
---
id: first witness known
question: |
  Do you know who will be your first witness?
subquestion: |
  You will need to have two witnesses sign the TODI with you in front of a notary public. You don't need to know who your witnesses will be right now, but you will need to add their names and addresses later.
  
  Your beneficiaries cannot serve as witnesses.

  ${collapse_template(finding_witnesses)}
fields:
  - no label: first_witness_known
    datatype: yesnoradio
---
template: finding_witnesses
subject: |
  **How can I find a witness?**
content: | 
  Family members, neighbors, friends, acquaintances, members of a religious or social group, and social workers all could serve as a witness.
---
id: second witness known
question: |
  Do you know who will be your second witness?
subquestion: |
  You will need to have two witnesses sign the TODI with you in front of a notary public. You don't need to know who your witnesses will be right now, but you will need to add their names and addresses later.
  % if first_witness_known == True:
  You said ${witnesses[0].name_full() } will be your other witness. Your beneficiaries cannot serve as witnesses.
  % else:
  Your beneficiaries cannot serve as witnesses.
  % endif

  ${collapse_template(finding_witnesses)}
fields:
  - no label: second_witness_known
    datatype: yesnoradio
---
only sets: 
  - set_second_witness_unknown
code: |
  if first_witness_known == False:
    second_witness_known = False
  set_second_witness_unknown = True
---
id: witness name
question: |
  What is the name of your ${ ordinal(i) } witness?
subquestion: |
  If they don't have a first name and a last name, you can enter their name in the field labeled **First** and leave the other fields blank.
fields:
  - First: witnesses[i].name.first
  - Middle: witnesses[i].name.middle
    required: False
  - Last: witnesses[i].name.last  
    required: False
  - Suffix: witnesses[i].name.suffix
    code: |
      name_suffix()
    required: False  
---
id: address known
question: |
  Do you know ${witnesses[0].name_full() }'s address?
subquestion: |
  If you do not know this now, you can add it when ${witnesses[0].name_full() } signs the TODI as your witness.
fields:
  - no label: first_witness_address_known
    datatype: yesnoradio
---
id: second address known
question: |
  Do you know ${witnesses[1].name_full() }'s address?
subquestion: |
  If you do not know this now, you can add it when ${witnesses[1].name_full() } signs the TODI as your witness.
fields:
  - no label: second_witness_address_known
    datatype: yesnoradio
---
id: witness address
question: |
  What is ${witnesses[i].name_full() }'s address?
subquestion: |
  If you do not know this now, click **Back**.
fields:
  - Street address: witnesses[i].address.address
    address autocomplete: True
  - Address line 2: witnesses[i].address.unit
    required: False
  - City: witnesses[i].address.city
  - State: witnesses[i].address.state
    code: |
      states_list() 
  - ZIP code: witnesses[i].address.zip
---
id: about filing
continue button field: about_filing
question: |
  Filing the TODI
subquestion: |
  After you download your TODI, you will need to:
  
    1. Sign and date it in front of 2 witnesses and a notary public,
    2. Record the TODI with your county's Recorder of Deeds, and
    3. Give copies to your beneficiaries.
  
  You may need to bring multiple copies of the TODI to the Recorder of Deeds. You may also need to pay a fee.
  
  % if end_in_county(todi_property.county).lower() == "cook county":
  Check with the [**Cook County Clerks Office Recordings Division**](https://www.cookcountyclerkil.gov/recordings) to learn how to file your TODI.
  % else:
  Check with your county's Recorder of Deeds to learn how to file your TODI.
  % endif
---
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your form is ready. View and download your form below. Click **Make changes** to fix any mistakes.
  
  Read the instructions to learn what to do next.

  Thank you for using ILAO Easy Forms!
  
  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }
 
  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }
  
  **Note:** You will have to record the TODI on your own after you sign and have it notarized.

  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

 
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Transfer on Death Instrument
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [**Illinois Legal Aid Online**](https://www.illinoislegalaid.org)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, todi], filename="transfer_on_death_instrument.pdf", title="All forms", enabled=True)
  - al_court_bundle: ALDocumentBundle.using(elements=[intsructions, todi], filename="transfer_on_death_instrument", title="All forms", enabled=True)
---
attachment:
  - name: todi
    variable name: todi[i]
    filename: transfer_on_death_instrument
    docx template file: todi_docassemble.docx
---
attachment:
  - name: instructions
    variable name: instructions[i]
    filename: instructions
    docx template file: todi_instructions.docx
---
objects:
  - todi: ALDocument.using(title="TODI and Affidavit", filename="todi", enabled=True, has_addendum=False)
  - instructions: ALDocument.using(title="Instructions", filename="instructions", enabled=True, has_addendum=False)
---
id: review screen
event: review_answers
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - Edit: users[0].name.first
    button: |
      **Your name:**
      ${users[0].name_full()}
  - label: Edit
    fields:
      - users[0].address.address
      - recompute:
        - users[0].address.county_correct
    button: |
      **Your address:**
      ${users[0].address.on_one_line(bare=True)}, ${end_in_county(users[0].address.county)}
  - Edit: users[0].include_phone
    button: |
      **Do you want to include your phone number?**
      ${word(yesno(users[0].include_phone))}
  - Edit: users[0].phone_number
    button: |
      **Your phone number:**
      ${phone_number_formatted(users[0].phone_number)}
    show if: users[0].include_phone
  - Edit: users[0].include_email
    button: |
      **Do you want to include your email address?**
      ${word(yesno(users[0].include_email))}
  - Edit: users[0].email
    button: |
      **Your email address:**
      ${users[0].email}
    show if: users[0].include_email
  - Edit: users[0].marital_status
    button: |
      **Your marital status:**
      ${users[0].marital_status}
  - label: Edit
    fields:
      - todi_property.address
      - recompute:
        - todi_property.county_correct
    button: |
      **Address of the property:**
      ${todi_property.on_one_line(bare=True)}, ${end_in_county(todi_property.county)}
  - Edit: todi_property.pin
    button: |
      **Property Index Number:**
      ${todi_property.pin}
  - Edit: todi_property.description
    button: |
      **The property's legal description:**
      ${todi_property.description}
  - Edit: other_owners_check
    button: |
      **Who owns this property?**
      % if other_owners_check == "sole":
      I am the only owner.
      % else:
      I share this property with someone else.
      % endif
  - Edit: shared_owners_type
    button: |
      **Type of shared ownership:**
      ${shared_owners_type}
    show if: other_owners_check != "sole"
  - Edit: user_common_share
    button: |
      **Your share of the property:**
      ${user_common_share}%
    show if: other_owners_check != "sole" and shared_owners_type == "Tenancy in common"
  - Edit: joint_todi_check
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Are you making a TODI with your spouse?**
      % else:
      **Are you making a TODI with your joint owner?**
      % endif
      ${word(yesno(joint_todi_check))}
    show if: shared_owners_type == "Joint Tenancy" or shared_owners_type == "Tenancy by the entirety"
  - Edit: joint_owner.name.first
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Your spouse's name:**
      % else:
      **Your joint owner's name:**
      % endif
      ${joint_owner.name_full()}
    show if: joint_todi_check
  - label: Edit
    fields:
      - joint_owner.address.address
      - recompute:
        - joint_owner.address.county_correct
    button: |
      **${joint_owner.full(middle='full')}'s address:**
      ${joint_owner.address.on_one_line(bare=True)}, ${end_in_county(joint_owner.address.county)}
    show if: joint_todi_check
  - Edit: joint_owner.include_phone
    button: |
      **Do you want to include ${joint_owner.name_full()}'s phone number?**
      ${word(yesno(joint_owner.include_phone))}
    show if: joint_todi_check
  - Edit: joint_owner.phone_number
    button: |
      **${joint_owner.name_full()}'s phone number:**
      ${phone_number_formatted(joint_owner.phone_number)}
    show if: joint_owner.include_phone == True and joint_todi_check == True
  - Edit: joint_owner.include_email
    button: |
      **Do you want to include ${joint_owner.name_full()}'s email address?**
      ${word(yesno(joint_owner.include_email))}
    show if: joint_todi_check
  - Edit: joint_owner.email
    button: |
      **${joint_owner.name_full()}'s email address:**
      ${joint_owner.email}
    show if: joint_owner.include_email == True and joint_todi_check == True
  - label: Edit
    fields:
      - joint_owner.marital_status_ask
      - recompute:
        - co_owner_marital_check
    button: |
      **${joint_owner.name_full()}'s marital status:**
      ${joint_owner.marital_status}
    show if: joint_todi_check == True and shared_owners_type == "Joint Tenancy"
  - Edit: beneficiaries.revisit
    button: |
      **Beneficiaries: (Edit to change names, addresses, and successors)**

      % for my_var in beneficiaries:
        * ${ my_var.name_full() }
      % endfor
  - Edit: tenancy_type
    button: |
      **Beneficiaries' tenancy:**
        ${tenancy_type}
    show if: beneficiaries.number_gathered() > 1
  - Edit: first_witness_known
    button: |
      **Do you know who will be the first witness?**
      ${word(yesno(first_witness_known))}
  - Edit: witnesses[0].name.first
    button: |
      **First witness's name:**
      ${witnesses[0].name_full()}
    show if: first_witness_known
  - Edit: first_witness_address_known
    button: |
      **Do you know ${witnesses[0].name_full()}'s address?**
      ${word(yesno(first_witness_address_known))}
    show if: first_witness_known
  - Edit: witnesses[0].address.address
    button: |
      **${witnesses[0].name_full()}'s address:**
      ${witnesses[0].address.on_one_line(bare=True)}
    show if: first_witness_known == True and first_witness_address_known == True 
  - Edit: second_witness_known
    button: |
      **Do you know who will be the second witness?**
      ${word(yesno(second_witness_known))}
  - Edit: witnesses[1].name.first
    button: |
      **Second witness's name:**
      ${witnesses[1].name_full()}
    show if: second_witness_known == True
  - Edit: second_witness_address_known
    button: |
      **Do you know ${witnesses[1].name_full()}'s address?**
      ${word(yesno(second_witness_address_known))}
    show if: second_witness_known == True
  - Edit: witnesses[1].address.address
    button: |
      **${witnesses[1].name_full()}'s address:**
      ${witnesses[1].address.on_one_line(bare=True)}
    show if: second_witness_known == True and second_witness_address_known == True
---
id: beneficiaries review screen
continue button field: beneficiaries.revisit
question: |
  Edit the information about the beneficiaries
subquestion: |
  ${ beneficiaries.table }

  ${ beneficiaries.add_action() }
---
id: beneficiaries table
table: beneficiaries.table
rows: beneficiaries
columns:
  - Name: |
      row_item.name_full() if defined("row_item.name.first") else ""
  - Address, phone number, relationship, share, and successor: |
      action_button_html(url_action(row_item.attr_name("review_beneficiary")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---
section: About you
id: user review screen
event: section_user
question: |
  About you
subquestion: |
  Edit your answers below.
review:
  - Edit: users[0].name.first
    button: |
      **Your name:**
      ${users[0].name_full()}
  - label: Edit
    fields:
      - users[0].address.address
      - recompute:
        - users[0].address.county_correct
    button: |
      **Your address:**
      ${users[0].address.on_one_line(bare=True)}, ${end_in_county(users[0].address.county)}
  - Edit: users[0].include_phone
    button: |
      **Do you want to include your phone number?**
      ${word(yesno(users[0].include_phone))}
  - Edit: users[0].phone_number
    button: |
      **Your phone number:**
      ${phone_number_formatted(users[0].phone_number)}
    show if: users[0].include_phone
  - Edit: users[0].include_email
    button: |
      **Do you want to include your email address?**
      ${word(yesno(users[0].include_email))}
  - Edit: users[0].email
    button: |
      **Your email address:**
      ${users[0].email}
    show if: users[0].include_email
  - Edit: users[0].marital_status
    button: |
      **Your marital status:**
      ${users[0].marital_status}
  - Edit: joint_todi_check
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Are you making a TODI with your spouse?**
      % else:
      **Are you making a TODI with your joint owner?**
      % endif
      ${word(yesno(joint_todi_check))}
    show if: shared_owners_type == "Joint Tenancy" or shared_owners_type == "Tenancy by the entirety"
  - Edit: joint_owner.name.first
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Your spouse's name:**
      % else:
      **Your joint owner's name:**
      % endif
      ${joint_owner.name_full()}
    show if: joint_todi_check
  - label: Edit
    fields:
      - joint_owner.address.address
      - recompute:
        - joint_owner.address.county_correct
    button: |
      **${joint_owner.name_full()}'s address:**
      ${joint_owner.address.on_one_line(bare=True)}, ${end_in_county(joint_owner.address.county)}
    show if: joint_todi_check
  - Edit: joint_owner.include_phone
    button: |
      **Do you want to include ${joint_owner.name_full()}'s phone number?**
      ${word(yesno(joint_owner.include_phone))}
    show if: joint_todi_check
  - Edit: joint_owner.phone_number
    button: |
      **${joint_owner.name_full()}'s phone number:**
      ${phone_number_formatted(joint_owner.phone_number)}
    show if: joint_owner.include_phone == True and joint_todi_check == True
  - Edit: joint_owner.include_email
    button: |
      **Do you want to include ${joint_owner.name_full()}'s email address?**
      ${word(yesno(joint_owner.include_email))}
    show if: joint_todi_check
  - Edit: joint_owner.email
    button: |
      **${joint_owner.name_full()}'s email address:**
      ${joint_owner.email}
    show if: joint_owner.include_email == True and joint_todi_check == True
  - label: Edit
    fields:
      - joint_owner.marital_status_ask
      - recompute:
        - co_owner_marital_check
    button: |
      **${joint_owner.name_full()}'s marital status:**
      ${joint_owner.marital_status}
    show if: joint_todi_check == True and shared_owners_type == "Joint Tenancy"
---
section: Beneficiaries
id: beneficiaries review screen
event: section_beneficiaries
question: |
  Beneficiaries
subquestion: |
  Edit your answers below.
review:
  - Edit: beneficiaries.revisit
    button: |
      **Beneficiaries: (Edit to change names, addresses, and successors)**

      % for my_var in beneficiaries:
        * ${ my_var.name_full() }
      % endfor
  - Edit: tenancy_type
    button: |
      **Beneficiaries' tenancy:**
        ${tenancy_type}
    show if: beneficiaries.number_gathered() > 1
---
section: Property
id: property review screen
event: section_property
question: |
  Property
subquestion: |
  Edit your answers below.
review:
  - label: Edit
    fields:
      - todi_property.address
      - recompute:
        - todi_property.county_correct
    button: |
      **Address of the property:**
      ${todi_property.on_one_line(bare=True)}, ${end_in_county(todi_property.county)}
  - Edit: todi_property.pin
    button: |
      **Property Index Number:**
      ${todi_property.pin}
  - Edit: todi_property.description
    button: |
      **The property's legal description:**
      ${todi_property.description}
  - Edit: other_owners_check
    button: |
      **Who owns this property?**
      % if other_owners_check == "sole":
      I am the only owner.
      % else:
      I share this property with someone else.
      % endif
  - Edit: shared_owners_type
    button: |
      **Type of shared ownership:**
      ${shared_owners_type}
    show if: other_owners_check != "sole"
  - Edit: user_common_share
    button: |
      **Your share of the property:**
      ${user_common_share}%
    show if: other_owners_check != "sole" and shared_owners_type == "Tenancy in common"
  - Edit: joint_todi_check
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Are you making a TODI with your spouse?**
      % else:
      **Are you making a TODI with your joint owner?**
      % endif
      ${word(yesno(joint_todi_check))}
    show if: shared_owners_type == "Joint Tenancy" or shared_owners_type == "Tenancy by the entirety"
  - Edit: joint_owner.name.first
    button: |
      % if shared_owners_type == "Tenancy by the entirety":
      **Your spouse's name:**
      % else:
      **Your joint owner's name:**
      % endif
      ${joint_owner.name_full()}
    show if: joint_todi_check
  - label: Edit
    fields:
      - joint_owner.address.address
      - recompute:
        - joint_owner.address.county_correct
    button: |
      **${joint_owner.name_full()}'s address:**
      ${joint_owner.address.on_one_line(bare=True)}, ${end_in_county(joint_owner.address.county)}
    show if: joint_todi_check
  - Edit: joint_owner.include_phone
    button: |
      **Do you want to include ${joint_owner.name_full()}'s phone number?**
      ${word(yesno(joint_owner.include_phone))}
    show if: joint_todi_check
  - Edit: joint_owner.phone_number
    button: |
      **${joint_owner.name_full()}'s phone number:**
      ${phone_number_formatted(joint_owner.phone_number)}
    show if: joint_owner.include_phone == True and joint_todi_check == True
  - Edit: joint_owner.include_email
    button: |
      **Do you want to include ${joint_owner.name_full()}'s email address?**
      ${word(yesno(joint_owner.include_email))}
    show if: joint_todi_check
  - Edit: joint_owner.email
    button: |
      **${joint_owner.name_full()}'s email address:**
      ${joint_owner.email}
    show if: joint_owner.include_email == True and joint_todi_check == True
  - label: Edit
    fields:
      - joint_owner.marital_status_ask
      - recompute:
        - co_owner_marital_check
    button: |
      **${joint_owner.name_full()}'s marital status:**
      ${joint_owner.marital_status}
    show if: joint_todi_check == True and shared_owners_type == "Joint Tenancy"
---
section: Witnesses
id: witnesses review screen
event: section_witnesses
question: |
  Witnesses
subquestion: |
  Edit your answers below.
review:
  - Edit: first_witness_known
    button: |
      **Do you know who will be the first witness?**
      ${word(yesno(first_witness_known))}
  - Edit: witnesses[0].name.first
    button: |
      **First witness's name:**
      ${witnesses[0].name_full()}
    show if: first_witness_known
  - Edit: first_witness_address_known
    button: |
      **Do you know ${witnesses[0].name_full()}'s address?**
      ${word(yesno(first_witness_address_known))}
    show if: first_witness_known
  - Edit: witnesses[0].address.address
    button: |
      **${witnesses[0].name_full()}'s address:**
      ${witnesses[0].address.on_one_line(bare=True)}
    show if: first_witness_known == True and first_witness_address_known == True 
  - Edit: second_witness_known
    button: |
      **Do you know who will be the second witness?**
      ${word(yesno(second_witness_known))}
  - Edit: witnesses[1].name.first
    button: |
      **Second witness's name:**
      ${witnesses[1].name_full()}
    show if: second_witness_known == True
  - Edit: second_witness_address_known
    button: |
      **Do you know ${witnesses[1].name_full()}'s address?**
      ${word(yesno(second_witness_address_known))}
    show if: second_witness_known == True
  - Edit: witnesses[1].address.address
    button: |
      **${witnesses[1].name_full()}'s address:**
      ${witnesses[1].address.on_one_line(bare=True)}
    show if: second_witness_known == True and second_witness_address_known == True
---
id: beneficiary review screen
continue button field: x.review_beneficiary
generic object: ALIndividual
question: |
  Edit ${x.name_full()}'s information
review: 
  - Edit: x.name.first
    button: |
      **Beneficiary name:**
      ${ x.name_full()  }
  - Edit: x.in_america
    button: |
      **${ x.name_full() }'s address:**
      % if x.in_america == True:
      ${ x.address.on_one_line(bare=True) }
      % else:
      ${x.intl_address_1}, ${x.intl_address_2}
      % endif
  - Edit: x.phone_number
    button: |
      **${ x.name_full() }'s phone number:**
      ${ phone_number_formatted(x.phone_number) }
  - label: Edit
    fields: 
      - x.related_to_who
      - recompute:
        - x.relationship_info
    button: |
      **Who is ${x.name_full()} related to?**
      % if x.related_to_who == "me":
      ${users[0].name_full()}
      % elif x.related_to_who == "joint owner":
      ${joint_owner.name_full()}
      % elif x.related_to_who == "both":
      Both ${users[0].name_full()} and ${joint_owner.name_full()}
      % endif
    show if: joint_language
  - label: Edit 
    fields: 
      - x.relationship_radio
      - recompute:
        - x.relationship
        - x.relationship_info
    button: |
      **${x.name_full()}'s relationship to you:**
      ${x.relationship}
    show if: joint_language == False or x.related_to_who != "joint owner"
  - label: Edit
    fields:
      - x.joint_relationship_radio
      - recompute:
        - x.joint_relationship
        - x.relationship_info
    button: |
      **${x.name_full()}'s relationship to ${joint_owner.name_full()}:**
      ${x.joint_relationship}
    show if: joint_language == True and x.related_to_who != "me"
  - Edit: x.percent_share
    button: |
      **${ x.name_full() }'s share of the property:**
      ${x.percent_share}%
    show if: beneficiaries.number_gathered() > 1
  - Edit: x.has_successor
    button: |
      **Does ${x.name_full()} have a successor beneficiary?**
      ${word(yesno(x.has_successor))}
  - Edit: x.successor_beneficiary.name.first
    button: |
      **Successor beneficiary's name:**
      ${x.successor_beneficiary.name_full()}
    show if: x.has_successor == True
  - Edit: x.successor_beneficiary.address.city
    button: |
      **${x.successor_beneficiary.name_full()}'s location:**
      % if x.successor_beneficiary.in_america == True:
      ${x.successor_beneficiary.address.city}, ${x.successor_beneficiary.address.state}
      % else:
      ${x.successor_beneficiary.address.city}, ${x.successor_beneficiary.country}
      % endif
    show if: x.has_successor == True
  - label: Edit
    fields: 
      - x.successor_beneficiary.related_to_who
      - recompute:
        - x.successor_beneficiary.relationship_info
    button: |
      **Who is ${x.successor_beneficiary.name_full()} related to?**
      % if x.successor_beneficiary.related_to_who == "me":
      ${users[0].name_full()}
      % elif x.successor_beneficiary.related_to_who == "joint owner":
      ${joint_owner.name_full()}
      % elif x.successor_beneficiary.related_to_who == "both":
      Both ${users[0].name_full()} and ${joint_owner.name_full()}
      % endif
    show if: joint_language == True and x.has_successor == True
  - label: Edit 
    fields: 
      - x.successor_beneficiary.relationship_radio
      - recompute:
        - x.successor_beneficiary.relationship
        - x.successor_beneficiary.relationship_info
    button: |
      **${x.successor_beneficiary.name_full()}'s relationship to you:**
      ${x.successor_beneficiary.relationship}
    show if: x.successor_beneficiary.show_successor_relationship
  - label: Edit
    fields:
      - x.successor_beneficiary.joint_relationship_radio
      - recompute:
        - x.successor_beneficiary.joint_relationship
        - x.successor_beneficiary.relationship_info
    button: |
      **${x.successor_beneficiary.name_full()}'s relationship to ${joint_owner.name_full()}:**
      ${x.successor_beneficiary.joint_relationship}
    show if: joint_language == True and x.successor_beneficiary.related_to_who != "me" and x.has_successor == True
---
#This code block exists slowly to determine whether the successor beneficiary user relationship button is shown in the review screen. There is probably a more efficient way to do this, but sometimes I am a fool.
sets:
  - beneficiaries[i].logic_for_successor_button
depends on:
  - joint_language
  - beneficiaries[i].has_successor
  - beneficiaries[i].successor_beneficiary.related_to_who
code: |
  if beneficiaries[i].has_successor == True: 
    if joint_language == False:
      beneficiaries[i].successor_beneficiary.show_successor_relationship = True
    else:
      if beneficiaries[i].successor_beneficiary.related_to_who == "joint owner":
        beneficiaries[i].successor_beneficiary.show_successor_relationship = False
      else:
        beneficiaries[i].successor_beneficiary.show_successor_relationship = True
  else:
    beneficiaries[i].successor_beneficiary.show_successor_relationship = False
  beneficiaries[i].logic_for_successor_button = True